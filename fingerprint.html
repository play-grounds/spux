<script src="//cdn.jsdelivr.net/npm/fingerprintjs2/dist/fingerprint2.min.js"></script>

<script type="application/ld+json" id="data"></script>
<script type="module">
  import { h, html, render, Component } from 'https://unpkg.com/spux?module'

  if (window.requestIdleCallback) {
    requestIdleCallback(function () {
      Fingerprint2.get(function (components) {
        console.log(components) // an array of components: {key: ..., value: ...}
        render(
          html`
            <pre>${JSON.stringify(components, null, 2)}</pre>
          `,
          document.body
        )
      })
    })
  } else {
    setTimeout(function () {
      Fingerprint2.get(function (components) {
        console.log(components) // an array of components: {key: ..., value: ...}
        render(
          html`
            <pre>${JSON.stringify(components, null, 2)}</pre>
          `,
          document.body
        )
      })
    }, 500)
  }
</script>
